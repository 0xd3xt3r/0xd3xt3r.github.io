<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Control high voltage device with arduino and IR remote control - Tainted Bits</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Tainted Bits"><meta name="msapplication-TileImage" content="/images/logo-header.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Tainted Bits"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="There are lots of sensors that we can play around with Arduino but usually, they operate on 3.3v or 5v but what if you want to control high voltage circuits that don’t operate on such low voltage. Wel"><meta property="og:type" content="article"><meta property="og:title" content="Control high voltage device with arduino and IR remote control"><meta property="og:url" content="https://www.taintedbits.com/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/"><meta property="og:site_name" content="Tainted Bits"><meta property="og:description" content="There are lots of sensors that we can play around with Arduino but usually, they operate on 3.3v or 5v but what if you want to control high voltage circuits that don’t operate on such low voltage. Wel"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.taintedbits.com/images/arduino-relay-interfacing-with-ir-led-thumbnail.png"><meta property="article:published_time" content="2017-01-01T07:50:20.000Z"><meta property="article:modified_time" content="2024-09-21T09:12:13.389Z"><meta property="article:author" content="D3xt3r"><meta property="article:tag" content="IoT"><meta property="article:tag" content="Arduino"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://www.taintedbits.com/images/arduino-relay-interfacing-with-ir-led-thumbnail.png"><meta property="twitter:creator" content="@0xd3xt3r"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.taintedbits.com/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/"},"headline":"Control high voltage device with arduino and IR remote control","image":["https://www.taintedbits.com/images/arduino-relay-interfacing-with-ir-led-thumbnail.png"],"datePublished":"2017-01-01T07:50:20.000Z","dateModified":"2024-09-21T09:12:13.389Z","author":{"@type":"Person","name":"D3xt3r"},"publisher":{"@type":"Organization","name":"Tainted Bits","logo":{"@type":"ImageObject","url":"https://www.taintedbits.com/images/logo-header.png"}},"description":"There are lots of sensors that we can play around with Arduino but usually, they operate on 3.3v or 5v but what if you want to control high voltage circuits that don’t operate on such low voltage. Wel"}</script><link rel="alternate" href="/atom.xml" title="Tainted Bits" type="application/atom+xml"><link rel="icon" href="/images/logo-header.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/railscasts.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><script src="https://www.googletagmanager.com/gtag/js?id=UA-128181439-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-128181439-1');</script><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/logo-header.png" alt="Tainted Bits" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/publications">Publication</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/0xd3xt3r"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2017-01-01T07:50:20.000Z" title="1/1/2017, 1:20:20 pm">2017-01-01</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/IoT-Dev/">IoT Dev</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Control high voltage device with arduino and IR remote control</h1><div class="content"><p>There are lots of sensors that we can play around with Arduino but usually, they operate on 3.3v or 5v but what if you want to control high voltage circuits that don’t operate on such low voltage. Well for these types of devices we use relay circuits. There are different types of Relay circuits with based on parameters like how much current/voltage it can handle, what is the voltage required for controlling their relay etc. The relay circuit we are going to use for this post is operating on 5V and can handle device having a voltage rating of 10A-125V to 10A-230V AC and 10A-28V to 10A-30V DC.</p>
<span id="more"></span>
<h3 id="Motivation"><a class="header-anchor" href="#Motivation">#</a>Motivation</h3>
<p>Long time ago when I was first introducted to mini development boads I was reading about raspberry pi DIY projects, and I came across home automation project which to me was very fascinating, reading further on the topic I realised there are zigbee and z-wave products for commuincation and controlling home appliances which made the whole project costly some of the products were even costly then raspberry pi itself. Later I can across arduino and relay circuits which made my hopes of affordable home automation come alive. Most of home appliance work within 230V in India which can be controlled by Arduino which help of relay circuits.</p>
<h3 id="Project-Ideas"><a class="header-anchor" href="#Project-Ideas">#</a>Project Ideas</h3>
<p>In this post, we will control relay circuit with Arduino. We will use 4 channel relay circuit which will allow us to control up to 4 devices operating within the relay rating. We need to feed some input to Arduino to indicate which relay channel to turn on/off for that we will use IR remote control and attach an IR receiver LED to Arduino to receive the infrared signal from the remote. We will bind 4 keys of IR remote control to 4 channels of the relay by programming Arduino.</p>
<h3 id="Components-required"><a class="header-anchor" href="#Components-required">#</a>Components required</h3>
<ol>
<li>Arduino Uno</li>
<li>Relay circuit (of rating 125v to 230v AC and 28V to 30V DC)</li>
<li>IR remote control</li>
<li>IR receiver module</li>
<li>breadboard</li>
<li>jumper wires</li>
</ol>
<h3 id="Accepting-commands-from-IR-remote-control"><a class="header-anchor" href="#Accepting-commands-from-IR-remote-control">#</a>Accepting commands from IR remote control</h3>
<img src="/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/ir-remote-module.jpg" class="" title="IR remote control and IR receiver LED">
<p>First, we need to identify codes of at least four buttons on IR remote control. For that, we will read data from the signal pin of IR receiver module connected to Arduino on pin 11 when a particular button is pressed. The code for this is as below :</p>
<blockquote>
<p>Download IR receiver LED library from this <a target="_blank" rel="noopener" href="https://github.com/z3t0/Arduino-IRremote">link</a>. Import the library in your Arduino IDE <strong>(Sketch -&gt; Import Library -&gt; IR)</strong>.</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;IRemote.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> IR_RECV_PIN = <span class="number">11</span>;</span><br><span class="line">IRrecv <span class="title function_">irrecv</span><span class="params">(IR_RECV_PIN)</span>;</span><br><span class="line">decode_results results;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span>&#123;</span><br><span class="line">    Serial.begin(<span class="number">9600</span>);</span><br><span class="line">    <span class="comment">// Start the receiver</span></span><br><span class="line">    irrecv.enableIRIn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// Receive the next value</span></span><br><span class="line">    <span class="keyword">if</span> (irrecv.decode(&amp;results)) &#123;</span><br><span class="line">        Serial.println(results.value, HEX);</span><br><span class="line">        irrecv.resume(); <span class="comment">// Receive the next value</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Above code will print IR remote button code in hexadecimal on the serial monitor. Take note of codes any four buttons which you want to use. This setup can also read button codes of other IR remote control in your house like Air Condition or Television remote. So you can even use your TV remote to control our relay circuit.</p>
<blockquote>
<p>The button codes which we read through this code may or may differ for different remote control, so it’s necessary to the above exercise to get codes of the buttons.</p>
</blockquote>
<h3 id="Using-Relay-circuit-to-control-HIGH-voltage-device"><a class="header-anchor" href="#Using-Relay-circuit-to-control-HIGH-voltage-device">#</a>Using Relay circuit to control HIGH voltage device</h3>
<p>For an electrical device to run it has to form a close path for current to flow if we break the circuit(open path)  current stops electrical device turned off this working this how switches work. When you turn on the switch it forms a close path and the device turned on and vice versa. With relay circuits, we can do this thing programmatically.</p>

<p>If you look closely in the image above, it has two terminal operating at different voltages, a HIGH voltage terminal where the device will be connected(upper side) and LOW voltage terminal which will be connected to Arduino (bottom right). In our case we are using 4 channel relay circuit, each channel has three HIGH voltage terminals (NC, NO, and C). To control the device we break the circuit and connect one end of the wire to <strong>C (common connection)</strong> terminal on one channel of the relay circuit. Relay offers two close paths, we connect our other end of device wire to one of the terminals <strong>NC (normally closed)</strong> or <strong>NO (normally open)</strong>. <strong>NC</strong> forms close configuration when Arduino sends the HIGH signal to relay’s corresponding signal pin and <strong>NO</strong> forms close configuration when Arduino sends LOW or signal. Each relay can form close configuration with either NC or NO at any instance of time not with both at the same time. So if you want to turn on the device when Arduino sends a LOW signal then connect the other end of the device with NC pin.</p>
<p>Now that we know the purpose of HIGH voltage pins. Let see how low voltage terminal influences the electrical path of HIGH voltage terminals. Low voltage path is controlled by Arduino digital pin. If Arduino send’s a HIGH signal to the signal pin on the relay circuit the electromagnet becomes charged and moves the switch, which in turn form a close configuration with <strong>NO</strong> pin, putting relay circuit in activated state which starts the flow of current in the device. Relay circuit in activated state forms close configuration with <strong>NO</strong> pin and in deactivated state close configuration with <strong>NC</strong> pin. In a similar manner, each relay circuit has a corresponding signal pin which is connected to the digital pin of Arduino board. Below is the working diagram of the relay circuit.</p>
<img src="/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/relay-working-diagram.png" class="" title="Relay circuit working">
<h4 id="Relay-circuit-Schematic-diagram"><a class="header-anchor" href="#Relay-circuit-Schematic-diagram">#</a>Relay circuit Schematic diagram</h4>
<p>Below is the schematic diagram of relay circuit interfaced with Arduino</p>
<img src="/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/arduino-relay-interfacing.png" class="" title="Relay circuit Schematic Diagram">
<p>The code below will turn on each relay circuit at a 3-second interval. Here we are just simply turning on the circuit without any external input. We can also turn on/off the relay circuit when certain conditions are met like if the temperature sensor is reading of 23 deg and above we could turn on the fan or if a PIR sensor detects a person has entered the room so turn on the light, etc. In our case, we will turn on/off the relay circuit based on the button pressed on IR remote control.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> CHANNEL_1 = <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_2 = <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_3 = <span class="number">8</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_4 = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">    pinMode(CHANNEL_1, OUTPUT);</span><br><span class="line">    pinMode(CHANNEL_2, OUTPUT);</span><br><span class="line">    pinMode(CHANNEL_3, OUTPUT);</span><br><span class="line">    pinMode(CHANNEL_4, OUTPUT);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set output pin to low state</span></span><br><span class="line">    digitalWrite(CHANNEL_1, LOW);</span><br><span class="line">    digitalWrite(CHANNEL_2, LOW);</span><br><span class="line">    digitalWrite(CHANNEL_3, LOW);</span><br><span class="line">    digitalWrite(CHANNEL_4, LOW);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">    digitalWrite(CHANNEL_1, HIGH);</span><br><span class="line">    delay(<span class="number">3000</span>);</span><br><span class="line">    digitalWrite(CHANNEL_2, HIGH);</span><br><span class="line">    delay(<span class="number">3000</span>);</span><br><span class="line">    digitalWrite(CHANNEL_3, HIGH);</span><br><span class="line">    delay(<span class="number">3000</span>);</span><br><span class="line">    digitalWrite(CHANNEL_4, HIGH);</span><br><span class="line">    delay(<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Putting-it-all-together"><a class="header-anchor" href="#Putting-it-all-together">#</a>Putting it all together</h3>
<p>Finally we are in position of make IR remote control and relay circuit to work together. Below is the schematic diagram the circuit.</p>
<img src="/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/arduino-relay-interfacing-with-ir-led.png" class="" title="Relay circuit, IR receiver LED connected with Arduino">
<p>You can change button code below with the button code you have discovered for your remote control other pin configurations are in the variables. You can directly copy paste and the below sketch in your Arduino IDE and upload the code.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;IRemote.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> IR_RECV_PIN = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> CHANNEL_1 = <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_2 = <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_3 = <span class="number">8</span>;</span><br><span class="line"><span class="type">int</span> CHANNEL_4 = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> BUTTON_1_CODE = <span class="number">0XF345</span>;</span><br><span class="line"><span class="type">int</span> BUTTON_2_CODE = <span class="number">0XFB45</span>;</span><br><span class="line"><span class="type">int</span> BUTTON_3_CODE = <span class="number">0XFE70</span>;</span><br><span class="line"><span class="type">int</span> BUTTON_4_CODE = <span class="number">0XF2C1</span>;</span><br><span class="line"></span><br><span class="line">IRrecv <span class="title function_">irrecv</span><span class="params">(IR_RECV_PIN)</span>;</span><br><span class="line">decode_results results;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span>&#123;</span><br><span class="line">      Serial.begin(<span class="number">9600</span>);</span><br><span class="line">      irrecv.enableIRIn();</span><br><span class="line">      pinMode(CHANNEL_1, OUTPUT);</span><br><span class="line">      pinMode(CHANNEL_2, OUTPUT);</span><br><span class="line">      pinMode(CHANNEL_3, OUTPUT);</span><br><span class="line">      pinMode(CHANNEL_4, OUTPUT);</span><br><span class="line"></span><br><span class="line">      digitalWrite(CHANNEL_1, LOW);</span><br><span class="line">      digitalWrite(CHANNEL_2, LOW);</span><br><span class="line">      digitalWrite(CHANNEL_3, LOW);</span><br><span class="line">      digitalWrite(CHANNEL_4, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> button_1_state = <span class="number">0</span>, button_2_state = <span class="number">0</span>, button_3_state = <span class="number">0</span>, button_4_state = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// Receive the next value</span></span><br><span class="line">    <span class="keyword">if</span> (irrecv.decode(&amp;results)) &#123;</span><br><span class="line">        Serial.println(results.value, HEX);</span><br><span class="line">        irrecv.resume(); <span class="comment">// Receive the next value</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span>(results.value) &#123;</span><br><span class="line">        <span class="keyword">case</span> BUTTON_1_CODE:</span><br><span class="line">            Serial.<span class="built_in">printf</span>(<span class="string">&quot;Button 1 pressed !&quot;</span> );</span><br><span class="line">            <span class="keyword">if</span>(button_1_state == <span class="number">0</span> ) &#123;</span><br><span class="line">                digitalWrite(CHANNEL_1, HIGH);</span><br><span class="line">                button_1_state = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                digitalWrite(CHANNEL_1, LOW);</span><br><span class="line">                button_1_state = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BUTTON_2_CODE:</span><br><span class="line">            Serial.<span class="built_in">printf</span>(<span class="string">&quot;Button 1 pressed !&quot;</span> );</span><br><span class="line">            <span class="keyword">if</span>(button_2_state == <span class="number">0</span> ) &#123;</span><br><span class="line">                digitalWrite(CHANNEL_2, HIGH);</span><br><span class="line">                button_2_state = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                digitalWrite(CHANNEL_2, LOW);</span><br><span class="line">                button_2_state = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BUTTON_3_CODE:</span><br><span class="line">            Serial.<span class="built_in">printf</span>(<span class="string">&quot;Button 1 pressed !&quot;</span> );</span><br><span class="line">            <span class="keyword">if</span>(button_3_state == <span class="number">0</span> ) &#123;</span><br><span class="line">                digitalWrite(CHANNEL_3, HIGH);</span><br><span class="line">                button_3_state = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                digitalWrite(CHANNEL_3, LOW);</span><br><span class="line">                button_3_state = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> BUTTON_4_CODE:</span><br><span class="line">            Serial.<span class="built_in">printf</span>(<span class="string">&quot;Button 1 pressed !&quot;</span> );</span><br><span class="line">            <span class="keyword">if</span>(button_4_state == <span class="number">0</span> ) &#123;</span><br><span class="line">                digitalWrite(CHANNEL_4, HIGH);</span><br><span class="line">                button_4_state = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                digitalWrite(CHANNEL_4, LOW);</span><br><span class="line">                button_4_state = <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            Serial.<span class="built_in">printf</span>(<span class="string">&quot;Unknown button pressed&quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Conclusion"><a class="header-anchor" href="#Conclusion">#</a>Conclusion</h3>
<p>We saw how we can control high voltage devices with Arduino IR remote control. You can even extend this project to control the relay circuit with your mobile device, wireless communication between mobile and Arduino can be taken care by using ESP8266 module here is the <a href="/2017/07/21/arduino-uno-esp8266-software-serial/" title="Connecting ESP8266-01 with Arduino UNO via Software serial">link to post</a>. Electrical circuits used in this post are available for a couple of bucks so making a home automation project is really not that costly.</p>
<h3 id="Useful-Links"><a class="header-anchor" href="#Useful-Links">#</a>Useful Links</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/z3t0/Arduino-IRremote">IR receiver LED library</a></li>
</ol>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/IoT/">IoT</a><a class="link-muted mr-2" rel="tag" href="/tags/Arduino/">Arduino</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2017/06/21/sensing-current-using-hall-effect-current-sensor-and-arduino/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Sensing current using Hall Effect Current sensor ACS712 and Arduino</span></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://www.taintedbits.com/2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/';
            this.page.identifier = '2017/01/01/control-high-voltage-device-with-arduino-and-IR-remote-control/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'taintedbits' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Motivation"><span class="level-left"><span class="level-item">1</span><span class="level-item">Motivation</span></span></a></li><li><a class="level is-mobile" href="#Project-Ideas"><span class="level-left"><span class="level-item">2</span><span class="level-item">Project Ideas</span></span></a></li><li><a class="level is-mobile" href="#Components-required"><span class="level-left"><span class="level-item">3</span><span class="level-item">Components required</span></span></a></li><li><a class="level is-mobile" href="#Accepting-commands-from-IR-remote-control"><span class="level-left"><span class="level-item">4</span><span class="level-item">Accepting commands from IR remote control</span></span></a></li><li><a class="level is-mobile" href="#Using-Relay-circuit-to-control-HIGH-voltage-device"><span class="level-left"><span class="level-item">5</span><span class="level-item">Using Relay circuit to control HIGH voltage device</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Relay-circuit-Schematic-diagram"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Relay circuit Schematic diagram</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Putting-it-all-together"><span class="level-left"><span class="level-item">6</span><span class="level-item">Putting it all together</span></span></a></li><li><a class="level is-mobile" href="#Conclusion"><span class="level-left"><span class="level-item">7</span><span class="level-item">Conclusion</span></span></a></li><li><a class="level is-mobile" href="#Useful-Links"><span class="level-left"><span class="level-item">8</span><span class="level-item">Useful Links</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-28T18:30:00.000Z">2024-09-29</time></p><p class="title"><a href="/2024/09/29/hacking-strace-for-system-call-instrumentation/">Hacking strace for System Call Instrumentation</a></p><p class="categories"><a href="/categories/Reverse-Engineering/">Reverse Engineering</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-09T07:17:02.000Z">2023-07-09</time></p><p class="title"><a href="/2023/07/09/exploring-the-fundamentals-of-RISC-V-assembly-and-shellcode-series-part1/">Exploring the fundamentals of RISC-V: Assembly and Shellcode Series - Part 1</a></p><p class="categories"><a href="/categories/Software-Exploitation/">Software Exploitation</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-14T18:30:00.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/arm-architecture-webinar/">ARM Architecture and Shellcode Webinars</a></p><p class="categories"><a href="/categories/Software-Exploitation/">Software Exploitation</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-07-17T18:30:00.000Z">2020-07-18</time></p><p class="title"><a href="/2020/07/18/binary-exploitation-pwnable-tw-tcache-tear/">Binary Exploitation [pwnable.tw] - Tcache Tear</a></p><p class="categories"><a href="/categories/Software-Exploitation/">Software Exploitation</a> / <a href="/categories/Software-Exploitation/CTF-Writeup/">CTF Writeup</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-07-11T18:30:00.000Z">2020-07-12</time></p><p class="title"><a href="/2020/07/12/binary-exploitation-pwnable-tw-caov/">Binary Exploitation [pwnable.tw] - CAOV</a></p><p class="categories"><a href="/categories/Software-Exploitation/">Software Exploitation</a> / <a href="/categories/Software-Exploitation/CTF-Writeup/">CTF Writeup</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Malware-Analysis/"><span class="level-start"><span class="level-item">Malware Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Data-Analysis/"><span class="level-start"><span class="level-item">Data Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/IoT-Dev/"><span class="level-start"><span class="level-item">IoT Dev</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Machine-Learning/"><span class="level-start"><span class="level-item">Machine Learning</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Reverse-Engineering/"><span class="level-start"><span class="level-item">Reverse Engineering</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Software-Exploitation/"><span class="level-start"><span class="level-item">Software Exploitation</span></span><span class="level-end"><span class="level-item tag">16</span></span></a><ul><li><a class="level is-mobile" href="/categories/Software-Exploitation/CTF-Writeup/"><span class="level-start"><span class="level-item">CTF Writeup</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ACS712/"><span class="tag">ACS712</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ARM-Reversing/"><span class="tag">ARM Reversing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Arduino/"><span class="tag">Arduino</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bare-Metal/"><span class="tag">Bare-Metal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CTF/"><span class="tag">CTF</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Chat-Bots/"><span class="tag">Chat Bots</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Classification/"><span class="tag">Classification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Analysis/"><span class="tag">Data Analysis</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Wrangling/"><span class="tag">Data Wrangling</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dev/"><span class="tag">Dev</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dropper/"><span class="tag">Dropper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ESP8266/"><span class="tag">ESP8266</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Editor/"><span class="tag">Editor</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Emacs/"><span class="tag">Emacs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Exploitation/"><span class="tag">Exploitation</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GandCrab/"><span class="tag">GandCrab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Grey-Energy/"><span class="tag">Grey Energy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap-Exploitation/"><span class="tag">Heap Exploitation</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IoT/"><span class="tag">IoT</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kernel-Debugging/"><span class="tag">Kernel Debugging</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux-Malware/"><span class="tag">Linux Malware</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Machine-Learning/"><span class="tag">Machine Learning</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Malware-Analysis/"><span class="tag">Malware Analysis</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NLP/"><span class="tag">NLP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RISC-V/"><span class="tag">RISC-V</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RISC-V-Shellcode/"><span class="tag">RISC-V-Shellcode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROP/"><span class="tag">ROP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regression/"><span class="tag">Regression</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reverse-Engineering/"><span class="tag">Reverse Engineering</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shellcode/"><span class="tag">Shellcode</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tracing/"><span class="tag">Tracing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Visualization/"><span class="tag">Visualization</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WarGames/"><span class="tag">WarGames</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows-Malware/"><span class="tag">Windows Malware</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows-Reversing/"><span class="tag">Windows Reversing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/glibc/"><span class="tag">glibc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript-obfuscation/"><span class="tag">javascript obfuscation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pwnable/"><span class="tag">pwnable</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pwnable-kr/"><span class="tag">pwnable-kr</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pwnable-tw/"><span class="tag">pwnable-tw</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/radare2/"><span class="tag">radare2</span><span class="tag">4</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/logo-header.png" alt="Tainted Bits" height="28"></a><p class="is-size-7"><span>&copy; 2024 D3xt3r</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Subscribe" href="https://mailchi.mp/d744c1f04904/taintedbits"><i class="fa fa-envelope"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/0xd3xt3r"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>